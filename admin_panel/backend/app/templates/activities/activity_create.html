{% extends "base.html" %}
{% block title %}Create Activity | LipRead Admin{% endblock %}
{% block header %}New Activity for {{ lesson.title if lesson else 'Lesson' }}{% endblock %}
{% block content %}
<div class="mb-3">
  <a class="text-decoration-none" href="/courses/{{ course.id }}/modules/{{ module.id }}/lessons/{{ lesson.id }}/activities">&larr; Back to activities</a>
</div>
<div class="card shadow-sm">
  <div class="card-body">
    <form method="post" action="/courses/{{ course.id }}/modules/{{ module.id }}/lessons/{{ lesson.id }}/activities">
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">Title</label>
          <input class="form-control" name="title" placeholder="e.g. Mid-lesson quiz">
        </div>
        <div class="col-md-3">
          <label class="form-label">Type</label>
          <select class="form-select" name="type" required>
            <option value="quiz" selected>Quiz</option>
            <option value="practice_lip">Practice Lip</option>
            <option value="dictation">Dictation</option>
          </select>
        </div>
        <div class="col-md-3">
          <label class="form-label">Order</label>
          <input class="form-control" type="number" name="order" value="{{ next_order }}" min="0">
        </div>
      </div>
      <div class="row g-3 mt-3">
        <div class="col-md-6">
          <div class="card h-100">
            <div class="card-body">
              <h6 class="card-title">New Question Bank</h6>
              <div class="mb-3">
                <label class="form-label">Title</label>
                <input class="form-control" name="bankTitle" placeholder="e.g. Unit 1 Quiz Bank" required>
              </div>
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">Difficulty</label>
                  <input class="form-control" type="number" name="bankDifficulty" value="1" min="1" max="5" required>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Tags (comma separated)</label>
                  <input class="form-control" name="bankTags" placeholder="listening,phonetics">
                </div>
              </div>
              <div class="mt-3">
                <label class="form-label">Description <span class="text-muted small">(optional)</span></label>
                <textarea class="form-control" name="bankDescription" rows="3" placeholder="Describe this question bank"></textarea>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card h-100">
            <div class="card-body">
              <h6 class="card-title">Scoring</h6>
              <div class="input-group mb-3">
                <span class="input-group-text">Max</span>
                <input class="form-control" type="number" name="maxScore" value="100" min="0">
                <span class="input-group-text">Pass</span>
                <input class="form-control" type="number" name="passingScore" value="60" min="0">
              </div>
              <p class="text-muted mb-0 small">A fresh question bank will be created when this activity is saved.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-3">
        <button class="btn btn-primary" type="submit">Create activity</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
